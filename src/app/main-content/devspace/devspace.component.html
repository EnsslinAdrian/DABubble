<div  *ngIf="navBarIsClosed" @toggleNavBar class="serverNav nav-Bar">
    <div class="serverNavContent nav-item" mode="side">
        <div class="searchbar" [ngClass]="addClass">
            <div class="inputFrame" [ngClass]="{'align-reverse' : !align_reverse}">
                <input [placeholder]="placeholder">
                <mat-icon>{{icon}}</mat-icon>
            </div>
        </div>
        <div class="titleRow">
            <div class="titleAndServerSvg">
                <img src="/img/devspace/titleAndServerSvg.svg">
                <h2>Devspace</h2>
            </div>
            <button class="writeMessageButton" mat-icon-button>
                <mat-icon>edit_square</mat-icon>
            </button>
        </div>

        <div class="dropwDownTopRow">
            <div class="dFlex" (click)="dropChannels()">
                <mat-icon class="dropDownArrow" [ngClass]="{'rotateArrow': channelsAreVisible}">arrow_drop_down</mat-icon>
                <mat-icon  class="channelsIcon">workspaces</mat-icon>
                <h3 class="folderTitle">Channels</h3>
            </div>
            <button class="addChannelPlus" (click)="openCreateChannelDialog()">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                    <path
                        d="M7 14C6.71667 14 6.47933 13.904 6.288 13.712C6.096 13.5207 6 13.2833 6 13V8H1C0.716667 8 0.479 7.904 0.287 7.712C0.0956668 7.52067 0 7.28333 0 7C0 6.71667 0.0956668 6.479 0.287 6.287C0.479 6.09567 0.716667 6 1 6H6V1C6 0.716667 6.096 0.479 6.288 0.287C6.47933 0.0956668 6.71667 0 7 0C7.28333 0 7.521 0.0956668 7.713 0.287C7.90433 0.479 8 0.716667 8 1V6H13C13.2833 6 13.5207 6.09567 13.712 6.287C13.904 6.479 14 6.71667 14 7C14 7.28333 13.904 7.52067 13.712 7.712C13.5207 7.904 13.2833 8 13 8H8V13C8 13.2833 7.90433 13.5207 7.713 13.712C7.521 13.904 7.28333 14 7 14Z"
                        fill="black" />
                </svg>
            </button>
        </div>
        @if (channelsAreVisible) {
        <div class="dropDownChannelSection" @slideDown>
            <div class="dropDownChannels" *ngFor="let channel of channels; let i = index;">
                <p class="channel" (click)="checkWindowAndOpenChannel(channel)"># {{channel.title}}</p>
            </div>
            <div class="addChannelButton" (click)="openCreateChannelDialog()">
                <mat-icon class="material-icons">add_circle_outline</mat-icon>
                Add Channel
            </div>
        </div>
        }

        <div class="dropwDownTopRow" (click)="dropContacts()">
            <div class="dFlex">
                <mat-icon class="dropDownArrow" [ngClass]="{'rotateArrow': contactsAreVisible}">arrow_drop_down</mat-icon>
                <mat-icon class="userIcon">account_circle</mat-icon>
                <h3 class="folderTitle">Direct messages</h3>
            </div>
        </div>
        @if (contactsAreVisible) {
        <div class="dropDownContacts" @slideDown class="dropdown-content">
            <div class="contact" *ngFor="let member of members; let i = index">
                <div class="contactPicture">
                    <img class="userImage" src="{{member.imageUrl}}" alt="Member image">
                    <img class="onlineStatus" [src]="member.status ? '/img/profile-pic/online.svg' : '/img/profile-pic/offline.svg'" alt="Online status">
                </div>
                <span>{{member.name}}</span>
            </div>
        </div>
        }
    </div>
</div>


<button type="button" class="toggleNavBarButton" (click)="toggleNavBar()">

    @if (navBarIsClosed) {
    <span>Workspace Menü öffnen</span>
    } @else {
    <span>Workspace Menü schließen</span>
    }
    <svg [ngStyle]="{'transform': navBarIsClosed ? 'rotate(90deg)' : 'rotate(-90deg)'}" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19" fill="none">
        <rect x="1" y="1.5" width="16" height="16" rx="1" stroke="black" stroke-width="2" />
        <path d="M6.71436 1.49997V17.5" stroke="black" stroke-width="2" />
        <path d="M10.143 11.7857L12.0752 9.85354C12.2704 9.65828 12.2704 9.3417 12.0752 9.14644L10.143 7.21428"
            stroke="black" stroke-width="2" stroke-linecap="round" />
    </svg>
</button>