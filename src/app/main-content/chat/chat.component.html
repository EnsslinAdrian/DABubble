<section>
    <app-chat-header></app-chat-header>

    <div class="main-message-container" #messageContainer>

        <div *ngIf="auth.isDirectMessage == false" class="mesage-container">
            <ng-container *ngIf="isLoading; else messageList">
                <div class="loader">Laden...</div>
            </ng-container>

            <ng-template #messageList>
                <app-message *ngFor="let msg of message; index as i" [message]="msg" [index]="i"
                    (deleteEvent)="handleDeleteMessage(i)">
                </app-message>
            </ng-template>

            <div class="welcome-message" *ngIf="!isLoading && auth.messages.length == 0">
                <div>
                    <mat-icon class="hashtag">tag</mat-icon>
                    <h2>{{auth.currentChannelData.title}}</h2>
                </div>
                <p>Du hast diesen Channel heute erstellt. Das ist der Anfang des Channels <span># {{auth.currentChannelData.title}}</span></p>
            </div>

        </div>

        <div *ngIf="auth.isDirectMessage" class="direct-message-container">
            <div class="welcome-direct-message">
                <div>
                    <img src="{{auth.directMessageUserData.imageUrl}}">
                    <h2>{{auth.directMessageUserData.name}}</h2>
                </div>
                <p>Diese Unterhaltung findet nur zwischen <span>&#64;{{auth.directMessageUserData.name}}</span> und dir statt</p>
            </div>

        </div>

    </div>

    <app-chat-message-field (messagesUpdated)="onMessagesUpdated()"></app-chat-message-field>
</section>